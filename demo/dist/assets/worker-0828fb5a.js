let r,l=0,u=null;function m(){return(u===null||u.byteLength===0)&&(u=new Uint8Array(r.memory.buffer)),u}const b=new TextEncoder("utf-8"),L=typeof b.encodeInto=="function"?function(e,n){return b.encodeInto(e,n)}:function(e,n){const t=b.encode(e);return n.set(t),{read:e.length,written:t.length}};function w(e,n,t){if(t===void 0){const a=b.encode(e),c=n(a.length);return m().subarray(c,c+a.length).set(a),l=a.length,c}let s=e.length,i=n(s);const f=m();let o=0;for(;o<s;o++){const a=e.charCodeAt(o);if(a>127)break;f[i+o]=a}if(o!==s){o!==0&&(e=e.slice(o)),i=t(i,s,s=o+e.length*3);const a=m().subarray(i+o,i+s),c=L(e,a);o+=c.written}return l=o,i}let y=null;function S(){return(y===null||y.byteLength===0)&&(y=new Uint32Array(r.memory.buffer)),y}function _(e,n){const t=n(e.length*4);return S().set(e,t/4),l=e.length,t}let d=null;function g(){return(d===null||d.byteLength===0)&&(d=new Int32Array(r.memory.buffer)),d}const h=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});h.decode();function T(e,n){return h.decode(m().subarray(e,e+n))}function x(e,n,t,s,i){try{const a=r.__wbindgen_add_to_stack_pointer(-16),c=w(e,r.__wbindgen_malloc,r.__wbindgen_realloc),A=l,U=w(n,r.__wbindgen_malloc,r.__wbindgen_realloc),M=l,W=_(t,r.__wbindgen_malloc),v=l,I=_(s,r.__wbindgen_malloc),R=l;r.scramble(a,c,A,U,M,W,v,I,R,i);var f=g()[a/4+0],o=g()[a/4+1];return T(f,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(f,o)}}async function E(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(s){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",s);else throw s}const t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{const t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}function k(){const e={};return e.wbg={},e}function O(e,n){return r=e.exports,p.__wbindgen_wasm_module=n,d=null,y=null,u=null,r}async function p(e){typeof e>"u"&&(e=new URL("/solver/demo/assets/solver_wasm_bg-a6f6c119.wasm",self.location));const n=k();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:t,module:s}=await E(await e,n);return O(t,s)}onmessage=function(e){p(new URL("/solver/demo/assets/solver_wasm_bg-a6f6c119.wasm",self.location)).then(()=>{const{alg:n,moves:t,onlyOrientation:s,disregard:i,maxSolutions:f}=e.data,o=x(n,t,new Uint32Array(s),new Uint32Array(i),f);postMessage(o)})};
